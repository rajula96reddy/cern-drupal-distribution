{
  "name": "drupal/cern-drupal-distribution",
  "description": "Defines the Drupal environment supported at CERN",
  "type": "project",
  "license": "Apache-2.0",
  "authors": [
    {
      "name": "drupal-admins",
      "email": "drupal-admins@cern.ch"
    }
  ],
  "homepage": "https://home.cern",
  "support": {
    "docs": "https://www.drupal.org/docs/user_guide/en/index.html",
    "chat": "https://www.drupal.org/node/314178"
  },
  "repositories": [
    {
      "type": "composer",
      "url": "https://packages.drupal.org/8"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-components.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-paragraph-types.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-full-html-format.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-cds-media.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-landing-page.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-webcast-feeds.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-indico-feeds.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/drupal/modules/cern_ldap_api.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/drupal/modules/cern_integration.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/drupal-welcome-message-block"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/themes/adminimal_subtheme.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/themes/cern.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/themes/cernbase.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-profile-displayname.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-dev-status.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-display-formats.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-loading.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/web-team/drupal/public/d9/modules/cern-toolbar.git"
    },
    {
      "type": "vcs",
      "url": "https://gitlab.cern.ch/drupal/profiles.git"
    }
  ],
  "require": {
    "php": ">=7.4",
    "ckeditor/ckeditor": "dev-full/4.18.x",
    "composer/installers": "~2.0.0",
    "cweagans/composer-patches": "~1.7.0",
    "dompdf/dompdf": "^1.0",
    "drupal/admin_toolbar": "~3.1.0",
    "drupal/adminimal_theme": "~1.6.0",
    "drupal/allowed_formats": "~1.4.0",
    "drupal/bootstrap": "~3.23.0",
    "drupal/captcha": "~1.2.0",
    "drupal/cern-adminimal-subtheme": "~2.1.0",
    "drupal/cern-base-theme": "~2.6.13",
    "drupal/cern-cds-media": "~2.1.4",
    "drupal/cern-components": "~2.7.17",
    "drupal/cern-dev-status": "~2.0.5",
    "drupal/cern-display-formats": "~1.4.6",
    "drupal/cern-drupal-welcome-message-block": "~1.1.0",
    "drupal/cern-full-html-format": "~2.0.4",
    "drupal/cern-indico-feeds": "~2.0.8",
    "drupal/cern-install-profiles": "~8.1.7",
    "drupal/cern-integration": "~1.1.0",
    "drupal/cern-landing-page": "~2.2.6",
    "drupal/cern-ldap-api": "~1.0.0",
    "drupal/cern-loading": "~2.1.2",
    "drupal/cern-paragraph-types": "~2.2.3",
    "drupal/cern-profile-displayname": "~2.1.0",
    "drupal/cern-theme": "~2.7.0",
    "drupal/cern-toolbar": "~2.2.3",
    "drupal/cern-webcast-feeds": "~2.0.4",
    "drupal/ckeditor_font": "~1.2.0",
    "drupal/codesnippet": "~1.7.0",
    "drupal/color_field": "~2.5.0",
    "drupal/colorbox": "~1.8.0",
    "drupal/colorbutton": "~1.3.0",
    "drupal/components": "~2.4.0",
    "drupal/config_update": "~1.7.0",
    "drupal/content_access": "~1.0@alpha",
    "drupal/context": "~4.1.0",
    "drupal/contribute": "~1.x-dev@dev",
    "drupal/cookieconsent": "~1.6.0",
    "drupal/core-composer-scaffold": "9.3.9",
    "drupal/core-project-message": "9.3.9",
    "drupal/core-recommended": "9.3.9",
    "drupal/ctools": "~3.7.0",
    "drupal/devel": "~4.1.1",
    "drupal/ds": "~3.13.0",
    "drupal/easy_breadcrumb": "~1.15.0",
    "drupal/entity_browser": "~2.6.0",
    "drupal/entity_print": "~2.4.0",
    "drupal/entity_reference_revisions": "~1.9.0",
    "drupal/externalauth": "~2.0.0",
    "drupal/extlink": "~1.6.0",
    "drupal/facets": "~2.0.0",
    "drupal/fast_404": "~2.0@alpha",
    "drupal/features": "~3.12.0",
    "drupal/feeds": "3.0-alpha11",
    "drupal/fences": "~2.0@RC",
    "drupal/field_formatter_class": "~1.5.0",
    "drupal/field_group": "~3.2.0",
    "drupal/field_permissions": "~1.1.0",
    "drupal/filefield_paths": "~1.0@beta",
    "drupal/filelog": "~2.0.2",
    "drupal/honeypot": "~2.0.1",
    "drupal/hook_event_dispatcher": "~3.0.0",
    "drupal/hotjar": "~2.2.0",
    "drupal/imagemagick": "~3.3.0",
    "drupal/imce": "~2.4.0",
    "drupal/jquery_ui": "~1.4.0",
    "drupal/jquery_ui_accordion": "~1.1.0",
    "drupal/jquery_ui_datepicker": "~1.2.0",
    "drupal/jquery_ui_draggable": "~1.2.0",
    "drupal/jquery_ui_droppable": "~1.2.0",
    "drupal/ludwig": "~2.0.0",
    "drupal/mailsystem": "~4.3.0",
    "drupal/matomo": "~1.14.0",
    "drupal/memcache": "~2.3.0",
    "drupal/menu_block": "~1.7.0",
    "drupal/menu_breadcrumb": "~1.16.0",
    "drupal/menu_force": "~1.2.0",
    "drupal/metatag": "~1.19.0",
    "drupal/migrate_plus": "~5.2.0",
    "drupal/migrate_tools": "~5.1.0",
    "drupal/migrate_upgrade": "~3.2.0",
    "drupal/module_filter": "~3.2.0",
    "drupal/node_view_permissions": "~1.5.0",
    "drupal/openid_connect": "^1.2",
    "drupal/panelbutton": "~1.4.0",
    "drupal/panelizer": "~4.4.0",
    "drupal/panels": "~4.6.0",
    "drupal/paragraphs": "~1.12.0",
    "drupal/pathauto": "~1.8.0",
    "drupal/permissions_by_term": "~3.1.16",
    "drupal/r4032login": "~2.1.0",
    "drupal/recaptcha": "~3.0.0",
    "drupal/redirect": "~1.7.0",
    "drupal/redis": "~1.5.0",
    "drupal/require_login": "~2.4.0",
    "drupal/rules": "~3.0@alpha",
    "drupal/scheduler": "~1.4.0",
    "drupal/search_api": "~1.23.0",
    "drupal/smart_trim": "~1.3.0",
    "drupal/sticky": "~2.0.0",
    "drupal/token": "~1.10.0",
    "drupal/twig_tweak": "~3.1.3",
    "drupal/ui_patterns": "~1.2.0",
    "drupal/ui_patterns_ds": "~1.2.0",
    "drupal/ui_patterns_field_group": "~1.2.0",
    "drupal/ui_patterns_layouts": "~1.2.0",
    "drupal/ui_patterns_library": "~1.2.0",
    "drupal/upgrade_status": "~3.13.0",
    "drupal/userprotect": "~1.1.0",
    "drupal/views_bulk_operations": "~4.0.0",
    "drupal/views_slideshow": "~4.8.0",
    "drupal/views_taxonomy_term_name_depth": "~7.0.2",
    "drupal/viewsreference": "~1.7.0",
    "drupal/webform": "~6.1.0",
    "drupal/workbench": "~1.3.0",
    "drupal/workbench_access": "~1.0@beta",
    "drupal/workbench_moderation": "~1.6.0",
    "drush/drush": "~10.6.2",
    "vlucas/phpdotenv": "~5.4.0",
    "webflo/drupal-finder": "~1.2.0",
    "wikimedia/composer-merge-plugin": "~2.0.1"
  },
  "require-dev": {
    "drupal/core-dev": "^9.3",
    "zaporylie/composer-drupal-optimizations": "^1.2"
  },
  "conflict": {
    "drupal/drupal": "*"
  },
  "minimum-stability": "dev",
  "prefer-stable": true,
  "config": {
    "discard-changes": true,
    "sort-packages": true,
    "allow-plugins": {
      "composer/installers": true,
      "dealerdirect/phpcodesniffer-composer-installer": true,
      "cweagans/composer-patches": true,
      "drupal/core-composer-scaffold": true,
      "drupal/core-project-message": true,
      "wikimedia/composer-merge-plugin": true,
      "zaporylie/composer-drupal-optimizations": true
    }
  },
  "autoload": {
    "classmap": [
      "scripts/composer/ScriptHandler.php"
    ],
    "files": ["load.environment.php"]
  },
  "scripts": {
    "pre-install-cmd": [
      "DrupalProject\\composer\\ScriptHandler::checkComposerVersion"
    ],
    "pre-update-cmd": [
      "DrupalProject\\composer\\ScriptHandler::checkComposerVersion"
    ],
    "post-install-cmd": [
      "DrupalProject\\composer\\ScriptHandler::createRequiredFiles",
      "echo \"Crawl-Delay: 10\" >> web/robots.txt"
    ],
    "post-update-cmd": [
      "DrupalProject\\composer\\ScriptHandler::createRequiredFiles",
      "echo \"Crawl-Delay: 10\" >> web/robots.txt"
    ]
  },
  "extra": {
    "drupal-scaffold": {
      "locations": {
        "web-root": "web/"
      }
    },
    "installer-paths": {
      "web/core": ["type:drupal-core"],
      "web/libraries/{$name}": ["type:drupal-library"],
      "web/modules/contrib/{$name}": ["type:drupal-module"],
      "web/profiles/contrib/{$name}": ["type:drupal-profile"],
      "web/themes/contrib/{$name}": ["type:drupal-theme"],
      "drush/Commands/contrib/{$name}": ["type:drupal-drush"],
      "web/modules/custom/{$name}": ["type:drupal-custom-module"],
      "web/themes/custom/{$name}": ["type:drupal-custom-theme"]
    },
    "patchLevel": {
    },
    "patches": {
      "drupal/core": {
        "DRUPAL-302: Allow tokens to be used in Text Editor image upload directory path": "patches/allow_tokens_in_text_editor-2830210-14.patch",
        "DRUPAL-496: TermName views argument_validator is not working as expected": "patches/drupal_views_argument_validator_TermName-2494617-99.patch",
        "DRUPAL-567: Cannot save translated nodes after upgrading to 8.8 due to invalid path": "patches/3101344-drupal-core-fix-permissions-checking-while-node-translating-64.patch",
        "DRUPAL-503: Support enclosure field in Views RssFields row plugin": "patches/views-rss-fields-enclosure-2511878-35.patch",
        "Fixes UID base filed still having old default value callbacks https://www.drupal.org/project/drupal/issues/3153455": "patches/3153455-104.patch",
        "Fixes crash if an external URL is specified in page path https://www.drupal.org/project/drupal/issues/2973422": "patches/save_views_external_url-2973422-19.patch",
        "Fixes call to a member function getAccountName() on null https://www.drupal.org/project/drupal/issues/3161212": "patches/core-node_add_author_error-3161212-2-9.x.patch",
        "Fixes multiple usages of FieldPluginBase::getEntity missing null checks https://www.drupal.org/project/drupal/issues/3007424": "patches/3007424-108.patch",
        "Fixes TypeError on FileUrlGenerator::generateString for >= 9.3.x https://www.drupal.org/project/drupal/issues/3254245": "patches/3254245-78.patch"
      },
      "drupal/paragraphs": {
        "DRUPAL-466: adds the widget that fixes the landing pages issues\n WARNING: there is a new version of this patch upstream for PHP7.2 with some community validation.  But since this version still applies cleanly, we wont update it yet.": "patches/experimental-widget-asymetric-translation-2904705-47.patch"
      },
      "drupal/openid_connect": {
        "OIDC roles mapping from JWT https://www.drupal.org/project/openid_connect/issues/3166508": "patches/openid_connect-3166508-role-mapping.patch",
        "OIDC autologin (skip Drupal login page) https://www.drupal.org/project/openid_connect/issues/3011413": "patches/openid_connect-3011413-autologin.patch",
        "OIDC default redirection after login to / instead of /user/{user_id} ": "patches/openid_connect-custom-default-redirection.patch"
      },
      "drupal/captcha": {
        "Fixes CAPTCHAs not loading due to not being able to access font directory https://www.drupal.org/project/captcha/issues/3211385": "patches/captcha-white-image-captcha-3211385-12.patch"
      },
      "drupal/scheduler": {
        "Hardcoded local task dependency on view.scheduler_scheduled_content": "patches/scheduler-view-dependency-3224340.patch"
      },
      "__comments__": {
      }
    },
    "merge-plugin": {
      "include": [
        "composer.user.json"
      ],
      "recurse": true,
      "replace": false,
      "ignore-duplicates": true,
      "merge-dev": true,
      "merge-extra": true,
      "merge-extra-deep": true,
      "merge-scripts": true
    }
  }
}
